{"ast":null,"code":"import{useEffect,useState}from\"react\";import useSound from\"use-sound\";import play from\"../sounds/play.mp3\";import correct from\"../sounds/correct.mp3\";import wrong from\"../sounds/wrong.mp3\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Trivia(_ref){let{data,questionNumber,setQuestionNumber,setTimeOut}=_ref;const[question,setQuestion]=useState(null);const[selectedAnswer,setSelectedAnswer]=useState(null);const[className,setClassName]=useState(\"answer\");const[letsPlay]=useSound(play);const[correctAnswer]=useSound(correct);const[wrongAnswer]=useSound(wrong);useEffect(()=>{letsPlay();},[letsPlay]);useEffect(()=>{setQuestion(data[questionNumber-1]);},[data,questionNumber]);const delay=(duration,callback)=>{setTimeout(()=>{callback();},duration);};const handleClick=a=>{setSelectedAnswer(a);setClassName(\"answer active\");delay(1000,()=>{setClassName(a.correct?\"answer correct\":\"answer wrong\");});// setTimeout(() => {\n//   setClassName(a.correct ? \"answer correct\" : \"answer wrong\");\n// }, 3000)\n// setTimeout(() => {\ndelay(3000,()=>{if(a.correct){correctAnswer();delay(1000,()=>{setQuestionNumber(prev=>prev+1);setSelectedAnswer(null);});// setTimeout(() => {\n//   setQuestionNumber((prev) => prev + 1);\n//   setSelectedAnswer(null);\n// }, 1000);\n}else{wrongAnswer();delay(1000,()=>{setTimeOut(true);});// setTimeout(() => {\n//   setTimeOut(true);\n// }, 1000);\n}// }, 5000);\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"trivia\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:question===null||question===void 0?void 0:question.question}),/*#__PURE__*/_jsx(\"div\",{className:\"answers\",children:question===null||question===void 0?void 0:question.answers.map(a=>/*#__PURE__*/_jsx(\"div\",{className:selectedAnswer===a?className:\"answer\",onClick:()=>!selectedAnswer&&handleClick(a),children:a.text}))})]});}","map":{"version":3,"names":["useEffect","useState","useSound","play","correct","wrong","jsx","_jsx","jsxs","_jsxs","Trivia","_ref","data","questionNumber","setQuestionNumber","setTimeOut","question","setQuestion","selectedAnswer","setSelectedAnswer","className","setClassName","letsPlay","correctAnswer","wrongAnswer","delay","duration","callback","setTimeout","handleClick","a","prev","children","answers","map","onClick","text"],"sources":["C:/Users/Rabban javed/Desktop/project 1/gamekbc/src/components/Trivia.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport useSound from \"use-sound\";\nimport play from \"../sounds/play.mp3\";\nimport correct from \"../sounds/correct.mp3\";\nimport wrong from \"../sounds/wrong.mp3\";\n\nexport default function Trivia({\n  data,\n  questionNumber,\n  setQuestionNumber,\n  setTimeOut,\n}) {\n  const [question, setQuestion] = useState(null);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [className, setClassName] = useState(\"answer\");\n  const [letsPlay] = useSound(play);\n  const [correctAnswer] = useSound(correct);\n  const [wrongAnswer] = useSound(wrong);\n\n  useEffect(() => {\n    letsPlay();\n  }, [letsPlay]);\n\n  useEffect(() => {\n    setQuestion(data[questionNumber - 1]);\n  }, [data, questionNumber]);\n\n  const delay = (duration, callback) => {\n    setTimeout(() => {\n      callback();\n    }, duration);\n  };\n\n  const handleClick = (a) => {\n    setSelectedAnswer(a);\n    setClassName(\"answer active\");\n    delay(1000, () => {\n      setClassName(a.correct ? \"answer correct\" : \"answer wrong\");\n    });\n    // setTimeout(() => {\n    //   setClassName(a.correct ? \"answer correct\" : \"answer wrong\");\n    // }, 3000)\n\n    // setTimeout(() => {\n      delay(3000, () => {\n      if (a.correct) {\n        correctAnswer();\n        delay(1000, () => {\n          setQuestionNumber((prev) => prev + 1);\n          setSelectedAnswer(null);\n        });\n        // setTimeout(() => {\n        //   setQuestionNumber((prev) => prev + 1);\n        //   setSelectedAnswer(null);\n        // }, 1000);\n      } \n      else {\n        wrongAnswer();\n        delay(1000, () => {\n          setTimeOut(true);\n        });\n        // setTimeout(() => {\n        //   setTimeOut(true);\n        // }, 1000);\n      }\n    // }, 5000);\n      })\n  };\n  return (\n    <div className=\"trivia\">\n      <div className=\"question\">{question?.question}</div>\n      <div className=\"answers\">\n        {question?.answers.map((a) => (\n          <div\n            className={selectedAnswer === a ? className : \"answer\"}\n            onClick={() => !selectedAnswer && handleClick(a)}\n          >\n            {a.text}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}